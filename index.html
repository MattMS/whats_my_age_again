<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>What's my age again?</title><link href="http://css.mattms.info/basic/light/index.css" rel="stylesheet" type="text/css"></head><body><div class="container"><h1>What's my age again?</h1><form><div class="field"><label>Octal</label><input data-radix='8' name="octal" pattern="[0-7]+"></div><div class="field"><label>Decimal</label><input data-radix='10' name="decimal" pattern="[0-9]+"></div><div class="field"><label title="Duodecimal, if you must">Dozenal</label><input data-radix='12' name="dozenal" pattern="[0-9ABab]+"></div><div class="field"><label>Hexadecimal</label><input data-radix='16' name="hexadecimal" pattern="[0-9A-Fa-f]+"></div></form></div><footer class="container"><hr><p>By&nbsp;<a href="http://mattms.github.io">MattMS</a></p></footer><script type="text/javascript">// Generated by CoffeeScript 1.10.0
(function() {
  var add_input_listeners, get_input_by_name, get_input_names, get_other_inputs, save_other_names, set_initial_value, update_other_inputs;

  get_input_by_name = function(name) {
    return document.querySelector("input[name=" + name + "]");
  };

  window.setup = function(selector, initial_name, initial_value) {
    var input_names;
    input_names = get_input_names(selector);
    save_other_names(input_names);
    add_input_listeners(selector);
    set_initial_value(initial_name, initial_value);
    return update_other_inputs(get_input_by_name(initial_name));
  };

  get_input_names = function(selector) {
    var i, input, len, ref, results;
    ref = document.querySelectorAll(selector);
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      input = ref[i];
      results.push(input.getAttribute('name'));
    }
    return results;
  };

  save_other_names = function(input_names) {
    var i, index, len, name, other_names, results;
    results = [];
    for (index = i = 0, len = input_names.length; i < len; index = ++i) {
      name = input_names[index];
      other_names = input_names.slice();
      other_names.splice(index, 1);
      results.push(localStorage.setItem(name + "_other_inputs", other_names.join(',')));
    }
    return results;
  };

  set_initial_value = function(name, decimal_value) {
    return get_input_by_name(name).value = decimal_value;
  };

  add_input_listeners = function(selector) {
    var i, input, len, ref, results;
    ref = document.querySelectorAll(selector);
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      input = ref[i];
      results.push(input.addEventListener('keyup', function(event) {
        return update_other_inputs(event.target);
      }));
    }
    return results;
  };

  update_other_inputs = function(input) {
    var i, len, name, other_input, other_radix, radix, ref, results, value;
    name = input.getAttribute('name');
    radix = input.getAttribute('data-radix');
    value = parseInt(input.value, radix);
    ref = get_other_inputs(name);
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      other_input = ref[i];
      if (isNaN(value)) {
        results.push(other_input.value = '');
      } else {
        other_radix = other_input.getAttribute('data-radix');
        results.push(other_input.value = value.toString(other_radix));
      }
    }
    return results;
  };

  get_other_inputs = function(name) {
    var i, len, names, other_input_name, results;
    names = localStorage.getItem(name + "_other_inputs").split(',');
    results = [];
    for (i = 0, len = names.length; i < len; i++) {
      other_input_name = names[i];
      results.push(get_input_by_name(other_input_name));
    }
    return results;
  };

}).call(this);
</script><script type="text/javascript">(function() {
  document.addEventListener('DOMContentLoaded', function(event) {
    return setup('input', 'decimal', 23);
  });

}).call(this);
</script></body></html>